<section class="banner-jumbo" aria-label="Featured Pocket Monster">
    <div class="banner-icon-box" aria-hidden="true">
        <img
            id="pokemon-img"
            src=""
            alt="Pocket Monster"
            class="pokemon-sprite"
            style="display: none;"
        />
        <div id="pokemon-loader" class="loader">?</div>
    </div>
    <div class="banner-text">
        <div class="banner-title">Introducing<br />Pocketmonster</div>
        <div class="banner-subtitle">
            Register today for a free <span id="pokemon-name">...</span>.
        </div>
    </div>
</section>

<script>
    async function fetchRandomPokemon() {
        const id = Math.floor(Math.random() * 151) + 1;
        const nameEl = document.getElementById("pokemon-name");
        const imgEl = document.getElementById(
            "pokemon-img",
        ) as HTMLImageElement;
        const loaderEl = document.getElementById("pokemon-loader");

        try {
            const response = await fetch(
                `https://pokeapi.co/api/v2/pokemon/${id}`,
            );
            const data = await response.json();

            if (nameEl) nameEl.innerText = data.name.toUpperCase();

            if (imgEl) {
                const gen1Sprite =
                    data.sprites.versions?.["generation-i"]?.["red-blue"]
                        ?.front_default ||
                    data.sprites.versions?.["generation-i"]?.["yellow"]
                        ?.front_default;

                imgEl.src = gen1Sprite || data.sprites.front_default || "";
                imgEl.style.display = "block";
                if (loaderEl) loaderEl.style.display = "none";
            }
        } catch (e) {
            console.error("Error fetching Pokemon", e);
            if (nameEl) nameEl.innerText = "MISSINGNO";
        }
    }
    document.addEventListener("DOMContentLoaded", fetchRandomPokemon);
</script>

<style>
    .banner-jumbo {
        background-color: #6699cc;
        border: 3px solid #000;
        padding: 20px;
        margin: 20px 0;
        display: flex;
        align-items: center;
        gap: 20px;
        box-shadow: 4px 4px 0 #000;
    }

    .banner-icon-box {
        flex-shrink: 0;
        width: 120px;
        height: 120px;
        background-color: #fff;
        border: 3px solid #000;
        display: flex;
        align-items: center;
        justify-content: center;
        position: relative;
    }

    .pokemon-sprite {
        width: 100%;
        height: 100%;
        object-fit: contain;
        image-rendering: pixelated;
    }

    .loader {
        font-size: 48px;
        font-weight: bold;
        color: #000;
    }

    .banner-text {
        flex: 1;
    }

    .banner-title {
        font-size: 28px;
        font-weight: bold;
        color: #000;
        margin-bottom: 8px;
        font-family: Arial, sans-serif;
        text-shadow: 2px 2px 0 #fff;
    }

    .banner-subtitle {
        font-size: 14px;
        color: #000;
        font-family: Arial, sans-serif;
    }

    @media (max-width: 600px) {
        .banner-jumbo {
            flex-direction: column;
            text-align: center;
        }
    }
</style>
