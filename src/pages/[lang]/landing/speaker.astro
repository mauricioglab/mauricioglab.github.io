---
import ProfileLayout from '@layouts/ProfileLayout.astro';
import HeroSection from '@components/landing/HeroSection.astro';
import SkillsSection from '@components/landing/SkillsSection.astro';
import FeatureCards from '@components/landing/FeatureCards.astro';
import StatsGrid from '@components/landing/StatsGrid.astro';
import ExperienceTimeline from '@components/landing/ExperienceTimeline.astro';
import CTASection from '@components/landing/CTASection.astro';
import { profiles } from '@data/profiles';
import { SITE_CONFIG } from '@data/config';
import { getLanguagePaths } from '@utils/i18n-paths';
import { 
  type Lang, 
  useTranslations, 
  type CommonTranslations, 
  type ProfileTranslations 
} from '@i18n/index';

export const getStaticPaths = getLanguagePaths;

const { lang } = Astro.params as { lang: Lang };
const profile = profiles.speaker;
const t = await useTranslations<CommonTranslations>(lang, 'common');
const content = await useTranslations<ProfileTranslations>(lang, 'speaker');

// Topics cards configuration
const topicCards = [
  { icon: 'ü§ñ', title: content.topics?.title1 || '', description: content.topics?.desc1 || '', color: 'purple-600' },
  { icon: 'üíª', title: content.topics?.title2 || '', description: content.topics?.desc2 || '', color: 'blue-600' },
  { icon: 'üéØ', title: content.topics?.title3 || '', description: content.topics?.desc3 || '', color: 'green-600' },
];

// Track record stats
const trackRecordStats = [
  { value: '10+', label: lang === 'es' ? 'A√±os como docente' : 'Years as educator', color: 'purple-600' },
  { value: '500+', label: lang === 'es' ? 'Estudiantes capacitados' : 'Students trained', color: 'blue-600' },
  { value: '50+', label: lang === 'es' ? 'Charlas y talleres' : 'Talks and workshops', color: 'green-600' },
  { value: '3', label: lang === 'es' ? 'Carreras universitarias' : 'University programs', color: 'orange-600' },
];

// Format cards for speaker-specific section
const formatCards = [
  {
    icon: 'fas fa-microphone',
    color: 'purple-600',
    title: lang === 'es' ? 'Charlas Inspiracionales' : 'Inspirational Talks',
    description: lang === 'es' 
      ? 'Keynotes de 30-60 minutos sobre tendencias tech, IA y el futuro del trabajo. Ideales para conferencias y eventos corporativos.'
      : '30-60 minute keynotes about tech trends, AI and the future of work. Ideal for conferences and corporate events.',
    features: [
      lang === 'es' ? 'Formato presencial o virtual' : 'In-person or virtual',
      lang === 'es' ? 'Q&A incluido' : 'Q&A included',
    ],
  },
  {
    icon: 'fas fa-laptop-code',
    color: 'blue-600',
    title: lang === 'es' ? 'Workshops Pr√°cticos' : 'Practical Workshops',
    description: lang === 'es' 
      ? 'Talleres de 2-4 horas donde los participantes aprenden haciendo. IA, programaci√≥n, automatizaciones.'
      : '2-4 hour workshops where participants learn by doing. AI, programming, automations.',
    features: [
      lang === 'es' ? 'Hands-on con ejercicios' : 'Hands-on exercises',
      lang === 'es' ? 'Material incluido' : 'Materials included',
    ],
  },
  {
    icon: 'fas fa-graduation-cap',
    color: 'green-600',
    title: lang === 'es' ? 'Capacitaciones In-Company' : 'In-Company Training',
    description: lang === 'es' 
      ? 'Programas de formaci√≥n personalizados para tu equipo. Desde 1 d√≠a hasta programas de varios meses.'
      : 'Customized training programs for your team. From 1 day to multi-month programs.',
    features: [
      lang === 'es' ? 'Contenido a medida' : 'Custom content',
      lang === 'es' ? 'Seguimiento post-capacitaci√≥n' : 'Post-training follow-up',
    ],
  },
  {
    icon: 'fas fa-user-graduate',
    color: 'orange-600',
    title: lang === 'es' ? 'Mentor√≠as 1:1' : '1:1 Mentoring',
    description: lang === 'es' 
      ? 'Acompa√±amiento personalizado para developers que quieren crecer en su carrera t√©cnica.'
      : 'Personalized guidance for developers who want to grow their technical careers.',
    features: [
      lang === 'es' ? 'Sesiones semanales o quincenales' : 'Weekly or biweekly sessions',
      lang === 'es' ? 'Plan de desarrollo personalizado' : 'Personalized development plan',
    ],
  },
];

// Transform experience data for the component
const experiences = [
  { role: content.experience.role1, company: content.experience.company1, items: content.experience.items1 },
  { role: content.experience.role2, company: content.experience.company2, items: content.experience.items2 },
];

// CTA buttons configuration
const ctaButtons = [
  { text: t.cta.contact, href: '#', icon: 'fas fa-envelope', primary: true, isContactTrigger: true },
  { text: t.cta.downloadCV, href: profile.cvUrl, icon: 'fas fa-file-pdf' },
];
---

<ProfileLayout title={content.title} profile={profile} lang={lang}>
  <!-- Hero -->
  <HeroSection profile={profile} lang={lang} />
  
  <!-- Temas que Ofrezco -->
  <FeatureCards
    title={lang === 'es' ? 'Temas que Ofrezco' : 'Topics I Offer'}
    subtitle={content.projectsDescription}
    cards={topicCards}
    columns={3}
    variant="border-left"
  />
  
  <!-- M√©tricas / Trayectoria -->
  <StatsGrid
    title={lang === 'es' ? 'Trayectoria' : 'Track Record'}
    stats={trackRecordStats}
    columns={4}
  />
  
  <!-- Formatos Disponibles - Custom section with more detail -->
  <section class="py-20 bg-slate-50 dark:bg-slate-800 transition-colors">
    <div class="max-w-7xl mx-auto px-4">
      <h2 class="text-3xl font-bold mb-12 text-center text-slate-900 dark:text-white">
        {lang === 'es' ? 'Formatos Disponibles' : 'Available Formats'}
      </h2>
      
      <div class="grid md:grid-cols-2 gap-8 max-w-4xl mx-auto">
        {formatCards.map((card) => (
          <div class="bg-white dark:bg-slate-900 p-8 rounded-2xl border border-slate-200 dark:border-slate-700 shadow-sm">
            <div class:list={[
              'w-16 h-16 rounded-2xl flex items-center justify-center mb-6',
              card.color === 'purple-600' ? 'bg-purple-600' : '',
              card.color === 'blue-600' ? 'bg-blue-600' : '',
              card.color === 'green-600' ? 'bg-green-600' : '',
              card.color === 'orange-600' ? 'bg-orange-600' : '',
            ]}>
              <i class={`${card.icon} text-white text-2xl`}></i>
            </div>
            <h3 class="text-xl font-bold mb-3 text-slate-900 dark:text-white">
              {card.title}
            </h3>
            <p class="text-slate-600 dark:text-slate-400 mb-4">
              {card.description}
            </p>
            <ul class="space-y-2 text-sm text-slate-500 dark:text-slate-400">
              {card.features.map((feature) => (
                <li class="flex items-center">
                  <i class:list={[
                    'fas fa-check mr-2',
                    card.color === 'purple-600' ? 'text-purple-600' : '',
                    card.color === 'blue-600' ? 'text-blue-600' : '',
                    card.color === 'green-600' ? 'text-green-600' : '',
                    card.color === 'orange-600' ? 'text-orange-600' : '',
                  ]}></i>
                  {feature}
                </li>
              ))}
            </ul>
          </div>
        ))}
      </div>
    </div>
  </section>
  
  <!-- Skills -->
  <SkillsSection profile={profile} lang={lang} />
  
  <!-- Experiencia -->
  <ExperienceTimeline 
    title={t.sections.experience}
    experiences={experiences}
    profileId="speaker"
  />
  
  <!-- CTA Final -->
  <CTASection
    title={content.ctaTitle}
    description={content.ctaDescription}
    buttons={ctaButtons}
    profileId="speaker"
    gradient={true}
  />
</ProfileLayout>
